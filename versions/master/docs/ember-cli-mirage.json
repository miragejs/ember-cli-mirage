{"jsonapi":{"version":"1.0"},"data":{"type":"project","id":"ember-cli-mirage","attributes":{"name":"ember-cli-mirage","version":"1.1.4","navigationIndex":[{"type":"classes","items":[{"id":"orm/associations/association~Association","path":"modules/orm/associations/association~Association","name":"Association"},{"id":"orm/collection~Collection","path":"modules/orm/collection~Collection","name":"Collection"},{"id":"db~Db","path":"modules/db~Db","name":"Db"},{"id":"db-collection~DbCollection","path":"modules/db-collection~DbCollection","name":"DbCollection"},{"id":"identity-manager~IdentityManager","path":"modules/identity-manager~IdentityManager","name":"IdentityManager"},{"id":"serializers/json-api-serializer~JSONAPISerializer","path":"modules/serializers/json-api-serializer~JSONAPISerializer","name":"JSONAPISerializer"},{"id":"orm/model~Model","path":"modules/orm/model~Model","name":"Model"},{"id":"response~Response","path":"modules/response~Response","name":"Response"},{"id":"orm/schema~Schema","path":"modules/orm/schema~Schema","name":"Schema"},{"id":"serializer~Serializer","path":"modules/serializer~Serializer","name":"Serializer"},{"id":"server~Server","path":"modules/server~Server","name":"Server"}]},{"type":"modules","items":[{"id":"utils/inflector","path":"modules/utils/inflector","name":"utils/inflector"}]}]},"relationships":{"modules":{"data":[{"type":"module","id":"db"},{"type":"module","id":"db-collection"},{"type":"module","id":"identity-manager"},{"type":"module","id":"orm/associations/association"},{"type":"module","id":"orm/collection"},{"type":"module","id":"orm/model"},{"type":"module","id":"orm/schema"},{"type":"module","id":"response"},{"type":"module","id":"serializer"},{"type":"module","id":"serializers/json-api-serializer"},{"type":"module","id":"server"},{"type":"module","id":"utils/inflector"}]}}},"included":[{"type":"class","id":"db~Db","attributes":{"name":"Db","file":"db","exportType":"default","description":"<div class=\"docs-md\"><p>Your Mirage server has a database which you can interact with in your route handlers. You’ll typically use models to interact with your database data, but you can always reach into the db directly in the event you want more control.</p>\n<p>Access the db from your route handlers via <code>schema.db</code>.</p>\n<p>You can access individual DbCollections by using <code>schema.db.name</code>:</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\">schema.db.users  <span class=\"hljs-comment\">// would return, e.g., [ { id: 1, name: 'Yehuda' }, { id: 2, name: 'Tom '} ]</span></code></pre></div>","lineNumber":20,"access":"public","isInterface":false,"decorators":[],"tags":[{"name":"class","value":"Db"},{"name":"constructor","value":""}],"fields":[],"methods":[{"name":"loadData","description":"<div class=\"docs-md\"><p>Loads an object of data into Mirage&#39;s database.</p>\n<p>The keys of the object correspond to the DbCollections, and the values are arrays of records.</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\">server.db.loadData({\n  <span class=\"hljs-attr\">users</span>: [\n    { <span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">'Yehuda'</span> },\n    { <span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">'Tom'</span> }\n  ]\n});</code></pre>\n<p>As with <code>db.collection.insert</code>, IDs will automatically be created for records that don&#39;t have them.</p></div>","lineNumber":51,"access":"public","tags":[{"name":"method","value":"loadData"}],"file":"db","returns":null,"params":[{"nullable":null,"spread":false,"optional":false,"name":"data","description":"Data to load","type":"Object"}],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"dump","description":"<div class=\"docs-md\"><p>Logs out the contents of the Db.</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\">server.db.dump() <span class=\"hljs-comment\">// { users: [ name: 'Yehuda', ...</span></code></pre></div>","lineNumber":67,"access":"public","tags":[{"name":"method","value":"dump"}],"file":"db","returns":null,"params":[],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"createCollection","description":"<div class=\"docs-md\"><p>Add an empty collection named <em>name</em> to your database. Typically you won’t need to do this yourself, since collections are automatically created for any models you have defined.</p></div>","lineNumber":83,"access":"public","tags":[{"name":"method","value":"createCollection"}],"file":"db","returns":null,"params":[{"nullable":null,"spread":false,"optional":false,"name":"name","description":"","type":"any"},{"nullable":null,"spread":false,"optional":false,"name":"initialData","description":"(optional)","type":"any"}],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"emptyData","description":"<div class=\"docs-md\"><p>Removes all data from Mirage&#39;s database.</p></div>","lineNumber":161,"access":"public","tags":[{"name":"method","value":"emptyData"}],"file":"db","returns":null,"params":[],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]}],"accessors":[],"parentClassId":null},"relationships":{"parentClass":{"data":null}}},{"type":"module","id":"db","attributes":{"file":"db","functions":[],"variables":[]},"relationships":{"classes":{"data":[{"type":"class","id":"db~Db"}]},"components":{"data":[]}}},{"type":"class","id":"db-collection~DbCollection","attributes":{"name":"DbCollection","file":"db-collection","exportType":"default","description":"<div class=\"docs-md\"><p>Mirage&#39;s <code>Db</code> has many <code>DbCollections</code>, which are equivalent to tables from traditional databases. They store specific types of data, for example <code>users</code> and <code>posts</code>.</p>\n<p><code>DbCollections</code> have names, like <code>users</code>, which you use to access the collection from the <code>Db</code> object.</p>\n<p>Suppose you had a <code>user</code> model defined, and the following data had been inserted into your database (either through factories or fixtures):</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> [\n  { <span class=\"hljs-attr\">id</span>: <span class=\"hljs-number\">1</span>, <span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">'Zelda'</span> },\n  { <span class=\"hljs-attr\">id</span>: <span class=\"hljs-number\">2</span>, <span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">'Link'</span> }\n];</code></pre>\n<p>Then <code>db.contacts</code> would return this array.</p></div>","lineNumber":32,"access":"public","isInterface":false,"decorators":[],"tags":[{"name":"class","value":"DbCollection"},{"name":"constructor","value":""}],"fields":[],"methods":[{"name":"insert","description":"<div class=\"docs-md\"><p>Inserts <code>data</code> into the collection. <code>data</code> can be a single object\nor an array of objects. Returns the inserted record.</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-comment\">// Insert a single record</span>\n<span class=\"hljs-keyword\">let</span> link = db.users.insert({ <span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">'Link'</span>, <span class=\"hljs-attr\">age</span>: <span class=\"hljs-number\">173</span> });\n\nlink;  <span class=\"hljs-comment\">// { id: 1, name: 'Link', age: 173 }</span>\n\n<span class=\"hljs-comment\">// Insert an array</span>\n<span class=\"hljs-keyword\">let</span> users = db.users.insert([\n  { <span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">'Zelda'</span>, <span class=\"hljs-attr\">age</span>: <span class=\"hljs-number\">142</span> },\n  { <span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">'Epona'</span>, <span class=\"hljs-attr\">age</span>: <span class=\"hljs-number\">58</span> },\n]);\n\nusers;  <span class=\"hljs-comment\">// [ { id: 2, name: 'Zelda', age: 142 }, { id: 3, name: 'Epona', age: 58 } ]</span></code></pre></div>","lineNumber":76,"access":"public","tags":[{"name":"method","value":"insert"}],"file":"db-collection","returns":null,"params":[{"nullable":null,"spread":false,"optional":false,"name":"data","description":"","type":"any"}],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"find","description":"<div class=\"docs-md\"><p>Returns a single record from the <code>collection</code> if <code>ids</code> is a single\nid, or an array of records if <code>ids</code> is an array of ids. Note\neach id can be an int or a string, but integer ids as strings\n(e.g. the string “1”) will be treated as integers.</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-comment\">// Given users = [{id: 1, name: 'Link'}, {id: 2, name: 'Zelda'}]</span>\n\ndb.users.find(<span class=\"hljs-number\">1</span>);      <span class=\"hljs-comment\">// {id: 1, name: 'Link'}</span>\ndb.users.find([<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>]); <span class=\"hljs-comment\">// [{id: 1, name: 'Link'}, {id: 2, name: 'Zelda'}]</span></code></pre></div>","lineNumber":101,"access":"public","tags":[{"name":"method","value":"find"}],"file":"db-collection","returns":null,"params":[{"nullable":null,"spread":false,"optional":false,"name":"ids","description":"","type":"any"}],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"findBy","description":"<div class=\"docs-md\"><p>Returns the first model from <code>collection</code> that matches the\nkey-value pairs in the <code>query</code> object. Note that a string\ncomparison is used. <code>query</code> is a POJO.</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-comment\">// Given users = [ { id: 1, name: 'Link' }, { id: 2, name: 'Zelda' } ]</span>\ndb.users.findBy({ <span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">'Link'</span> }); <span class=\"hljs-comment\">// { id: 1, name: 'Link' }</span></code></pre></div>","lineNumber":133,"access":"public","tags":[{"name":"method","value":"find"}],"file":"db-collection","returns":null,"params":[{"nullable":null,"spread":false,"optional":false,"name":"query","description":"","type":"any"}],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"where","description":"<div class=\"docs-md\"><p>Returns an array of models from <code>collection</code> that match the\nkey-value pairs in the <code>query</code> object. Note that a string\ncomparison is used. <code>query</code> is a POJO.</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-comment\">// Given users = [ { id: 1, name: 'Link' }, { id: 2, name: 'Zelda' } ]</span>\n\ndb.users.where({ <span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">'Zelda'</span> }); <span class=\"hljs-comment\">// [ { id: 2, name: 'Zelda' } ]</span></code></pre></div>","lineNumber":158,"access":"public","tags":[{"name":"method","value":"where"}],"file":"db-collection","returns":null,"params":[{"nullable":null,"spread":false,"optional":false,"name":"query","description":"","type":"any"}],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"firstOrCreate","description":"<div class=\"docs-md\"><p>Finds the first record matching the provided <em>query</em> in\n<code>collection</code>, or creates a new record using a merge of the\n<code>query</code> and optional <code>attributesForCreate</code>.</p>\n<p>Often times you may have a pattern like the following in your API stub:</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-comment\">// Given users = [</span>\n<span class=\"hljs-comment\">//   { id: 1, name: 'Link' },</span>\n<span class=\"hljs-comment\">//   { id: 2, name: 'Zelda' }</span>\n<span class=\"hljs-comment\">// ]</span>\n\n<span class=\"hljs-comment\">// Create Link if he doesn't yet exist</span>\n<span class=\"hljs-keyword\">let</span> records = db.users.where({ <span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">'Link'</span> });\n<span class=\"hljs-keyword\">let</span> record;\n\n<span class=\"hljs-keyword\">if</span> (records.length &gt; <span class=\"hljs-number\">0</span>) {\n  record = records[<span class=\"hljs-number\">0</span>];\n} <span class=\"hljs-keyword\">else</span> {\n  record = db.users.insert({ <span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">'Link'</span> });\n}</code></pre>\n<p>You can now replace this with the following:</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">let</span> record = db.users.firstOrCreate({ <span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">'Link'</span> });</code></pre>\n<p>An extended example using <em>attributesForCreate</em>:</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">let</span> record = db.users.firstOrCreate({ <span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">'Link'</span> }, { <span class=\"hljs-attr\">evil</span>: <span class=\"hljs-literal\">false</span> });</code></pre></div>","lineNumber":203,"access":"public","tags":[{"name":"method","value":"firstOrCreate"}],"file":"db-collection","returns":null,"params":[{"nullable":null,"spread":false,"optional":false,"name":"query","description":"","type":"any"},{"nullable":null,"spread":false,"optional":false,"name":"attributesForCreate","description":"","type":"any"}],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"update","description":"<div class=\"docs-md\"><p>Updates one or more records in the collection.</p>\n<p>If <em>attrs</em> is the only arg present, updates all records in the collection according to the key-value pairs in <em>attrs</em>.</p>\n<p>If <em>target</em> is present, restricts updates to those that match <em>target</em>. If <em>target</em> is a number or string, finds a single record whose id is <em>target</em> to update. If <em>target</em> is a POJO, queries <em>collection</em> for records that match the key-value pairs in <em>target</em>, and updates their <em>attrs</em>.</p>\n<p>Returns the updated record or records.</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-comment\">// Given users = [</span>\n<span class=\"hljs-comment\">//   {id: 1, name: 'Link'},</span>\n<span class=\"hljs-comment\">//   {id: 2, name: 'Zelda'}</span>\n<span class=\"hljs-comment\">// ]</span>\n\ndb.users.update({<span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">'Ganon'</span>}); <span class=\"hljs-comment\">// db.users = [{id: 1, name: 'Ganon'}, {id: 2, name: 'Ganon'}]</span>\ndb.users.update(<span class=\"hljs-number\">1</span>, {<span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">'Young Link'</span>}); <span class=\"hljs-comment\">// db.users = [{id: 1, name: 'Young Link'}, {id: 2, name: 'Zelda'}]</span>\ndb.users.update({<span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">'Link'</span>}, {<span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">'Epona'</span>}); <span class=\"hljs-comment\">// db.users = [{id: 1, name: 'Epona'}, {id: 2, name: 'Zelda'}]</span></code></pre></div>","lineNumber":242,"access":"public","tags":[{"name":"method","value":"update"}],"file":"db-collection","returns":null,"params":[{"nullable":null,"spread":false,"optional":false,"name":"target","description":"","type":"any"},{"nullable":null,"spread":false,"optional":false,"name":"attrs","description":"","type":"any"}],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"remove","description":"<div class=\"docs-md\"><p>Removes one or more records in <em>collection</em>.</p>\n<p>If <em>target</em> is undefined, removes all records. If <em>target</em> is a number or string, removes a single record using <em>target</em> as id. If <em>target</em> is a POJO, queries <em>collection</em> for records that match the key-value pairs in <em>target</em>, and removes them from the collection.</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-comment\">// Given users = [</span>\n<span class=\"hljs-comment\">//   {id: 1, name: 'Link'},</span>\n<span class=\"hljs-comment\">//   {id: 2, name: 'Zelda'}</span>\n<span class=\"hljs-comment\">// ]</span>\n\ndb.users.remove(); <span class=\"hljs-comment\">// db.users = []</span>\ndb.users.remove(<span class=\"hljs-number\">1</span>); <span class=\"hljs-comment\">// db.users = [{id: 2, name: 'Zelda'}]</span>\ndb.users.remove({<span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">'Zelda'</span>}); <span class=\"hljs-comment\">// db.users = [{id: 1, name: 'Link'}]</span></code></pre></div>","lineNumber":308,"access":"public","tags":[{"name":"method","value":"remove"}],"file":"db-collection","returns":null,"params":[{"nullable":null,"spread":false,"optional":false,"name":"target","description":"","type":"any"}],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]}],"accessors":[],"parentClassId":null},"relationships":{"parentClass":{"data":null}}},{"type":"module","id":"db-collection","attributes":{"file":"db-collection","functions":[],"variables":[]},"relationships":{"classes":{"data":[{"type":"class","id":"db-collection~DbCollection"}]},"components":{"data":[]}}},{"type":"class","id":"identity-manager~IdentityManager","attributes":{"name":"IdentityManager","file":"identity-manager","exportType":"default","description":"<div class=\"docs-md\"><p>By default Mirage uses autoincrementing numbers starting with <code>1</code> as IDs for records. This can be customized by implementing one or more IdentityManagers for your application.</p>\n<p>An IdentityManager is a class that&#39;s responsible for generating unique identifiers. You can define a custom identity manager for your entire application, as well as on a per-model basis.</p>\n<p>A custom IdentityManager must implement these methods:</p>\n<ul>\n<li><code>fetch</code>, which must return an identifier not yet used</li>\n<li><code>set</code>, which is called with an <code>id</code> of a record being insert into Mirage&#39;s database</li>\n<li><code>reset</code>, which should reset database to initial state</li>\n</ul>\n<p>Check out the advanced guide on Mocking UUIDs to see a complete example of a custom IdentityManager.</p></div>","lineNumber":22,"access":"public","isInterface":false,"decorators":[],"tags":[{"name":"class","value":"IdentityManager"},{"name":"constructor","value":""}],"fields":[],"methods":[{"name":"set","description":"<div class=\"docs-md\"><p>Registers <code>uniqueIdentifier</code> as used.</p>\n<p>This method should throw is <code>uniqueIdentifier</code> has already been taken.</p></div>","lineNumber":46,"access":"public","tags":[{"name":"method","value":"set"}],"file":"identity-manager","returns":null,"params":[{"nullable":null,"spread":false,"optional":false,"name":"uniqueIdentifier","description":"","type":"String|Number"}],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"fetch","description":"<div class=\"docs-md\"><p>Returns the next unique identifier.</p></div>","lineNumber":80,"access":"public","tags":[{"name":"method","value":"fetch"}],"file":"identity-manager","returns":{"type":"String","description":"Unique identifier","properties":[]},"params":[],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"reset","description":"<div class=\"docs-md\"><p>Resets the identity manager, marking all unique identifiers as available.</p></div>","lineNumber":96,"access":"public","tags":[{"name":"method","value":"reset"}],"file":"identity-manager","returns":null,"params":[],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]}],"accessors":[],"parentClassId":null},"relationships":{"parentClass":{"data":null}}},{"type":"module","id":"identity-manager","attributes":{"file":"identity-manager","functions":[],"variables":[]},"relationships":{"classes":{"data":[{"type":"class","id":"identity-manager~IdentityManager"}]},"components":{"data":[]}}},{"type":"class","id":"orm/associations/association~Association","attributes":{"name":"Association","file":"orm/associations/association","exportType":"default","description":"<div class=\"docs-md\"><p>Associations are used to define relationships between your Models.</p></div>","lineNumber":10,"access":"public","isInterface":false,"decorators":[],"tags":[{"name":"class","value":"Association"},{"name":"constructor","value":""}],"fields":[],"methods":[{"name":"isReflexive","description":"<div class=\"docs-md\"><p>Returns true if the association is reflexive.</p></div>","lineNumber":48,"access":"public","tags":[{"name":"method","value":"isReflexive"}],"file":"orm/associations/association","returns":{"type":"Boolean","description":"","properties":[]},"params":[],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]}],"accessors":[{"name":"isPolymorphic","description":null,"lineNumber":59,"access":"public","tags":[],"file":"orm/associations/association","type":"any","isStatic":false,"decorators":[],"hasGetter":true,"hasSetter":false}],"parentClassId":null},"relationships":{"parentClass":{"data":null}}},{"type":"module","id":"orm/associations/association","attributes":{"file":"orm/associations/association","functions":[],"variables":[]},"relationships":{"classes":{"data":[{"type":"class","id":"orm/associations/association~Association"}]},"components":{"data":[]}}},{"type":"class","id":"orm/collection~Collection","attributes":{"name":"Collection","file":"orm/collection","exportType":"default","description":"<div class=\"docs-md\"><p>Collections represent arrays of models. They are returned by a hasMany association, or by one of the ModelClass query methods:</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">let</span> posts = user.blogPosts;\n<span class=\"hljs-keyword\">let</span> posts = schema.blogPosts.all();\n<span class=\"hljs-keyword\">let</span> posts = schema.blogPosts.find([<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">4</span>]);\n<span class=\"hljs-keyword\">let</span> posts = schema.blogPosts.where({ <span class=\"hljs-attr\">published</span>: <span class=\"hljs-literal\">true</span> });</code></pre>\n<p>Note that there is also a <code>PolymorphicCollection</code> class that is identical to <code>Collection</code>, except it can contain a heterogeneous array of models. Thus, it has no <code>modelName</code> property. This lets serializers and other parts of the system interact with it differently.</p></div>","lineNumber":20,"access":"public","isInterface":false,"decorators":[],"tags":[{"name":"class","value":"Collection"},{"name":"constructor","value":""}],"fields":[{"name":"modelName","description":"<div class=\"docs-md\"><p>The dasherized model name this Collection represents.</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">let</span> posts = user.blogPosts;\n\nposts.modelName; <span class=\"hljs-comment\">// \"blog-post\"</span></code></pre>\n<p>The model name is separate from the actual models, since Collections can be empty.</p></div>","lineNumber":42,"access":"public","tags":[],"file":"orm/collection","type":"String","isStatic":false,"decorators":[]},{"name":"models","description":"<div class=\"docs-md\"><p>The underlying plain JavaScript array of Models in this Collection.</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\">posts.models <span class=\"hljs-comment\">// [ post:1, post:2, ... ]</span></code></pre>\n<p>While Collections have many array-ish methods like <code>filter</code> and <code>sort</code>, it\ncan be useful to work with the plain array if you want to work with methods\nlike <code>map</code>, or use the <code>[]</code> accessor.</p>\n<p>For example, in testing you might want to assert against a model from the\ncollection:</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">let</span> newPost = user.posts.models[<span class=\"hljs-number\">0</span>].title;\n\nassert.equal(newPost, <span class=\"hljs-string\">\"My first post\"</span>);</code></pre></div>","lineNumber":68,"access":"public","tags":[],"file":"orm/collection","type":"Array","isStatic":false,"decorators":[]}],"methods":[{"name":"update","description":"<div class=\"docs-md\"><p>Updates each model in the collection, and immediately persists all changes to the db.</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">let</span> posts = user.blogPosts;\n\nposts.update(<span class=\"hljs-string\">'published'</span>, <span class=\"hljs-literal\">true</span>); <span class=\"hljs-comment\">// the db was updated for all posts</span></code></pre></div>","lineNumber":101,"access":"public","tags":[{"name":"method","value":"update"}],"file":"orm/collection","returns":{"type":"any","description":"this","properties":[]},"params":[{"nullable":null,"spread":false,"optional":false,"name":"key","description":"","type":"any"},{"nullable":null,"spread":false,"optional":false,"name":"val","description":"","type":"any"}],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"save","description":"<div class=\"docs-md\"><p>Saves all models in the collection.</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">let</span> posts = user.blogPosts;\n\nposts.models[<span class=\"hljs-number\">0</span>].published = <span class=\"hljs-literal\">true</span>;\n\nposts.save(); <span class=\"hljs-comment\">// all posts saved to db</span></code></pre></div>","lineNumber":122,"access":"public","tags":[{"name":"method","value":"save"}],"file":"orm/collection","returns":{"type":"any","description":"this","properties":[]},"params":[],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"reload","description":"<div class=\"docs-md\"><p>Reloads each model in the collection.</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">let</span> posts = author.blogPosts;\n\n<span class=\"hljs-comment\">// ...</span>\n\nposts.reload(); <span class=\"hljs-comment\">// reloads data for each post from the db</span></code></pre></div>","lineNumber":143,"access":"public","tags":[{"name":"method","value":"reload"}],"file":"orm/collection","returns":{"type":"any","description":"this","properties":[]},"params":[],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"destroy","description":"<div class=\"docs-md\"><p>Destroys the db record for all models in the collection.</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">let</span> posts = user.blogPosts;\n\nposts.destroy(); <span class=\"hljs-comment\">// all posts removed from db</span></code></pre></div>","lineNumber":162,"access":"public","tags":[{"name":"method","value":"destroy"}],"file":"orm/collection","returns":{"type":"any","description":"this","properties":[]},"params":[],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"add","description":"<div class=\"docs-md\"><p>Adds a model to this collection.</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\">posts.length; <span class=\"hljs-comment\">// 1</span>\n\nposts.add(newPost);\n\nposts.length; <span class=\"hljs-comment\">// 2</span></code></pre></div>","lineNumber":184,"access":"public","tags":[{"name":"method","value":"add"}],"file":"orm/collection","returns":{"type":"any","description":"this","properties":[]},"params":[{"nullable":null,"spread":false,"optional":false,"name":"model","description":"","type":"Model"}],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"remove","description":"<div class=\"docs-md\"><p>Removes a model from this collection.</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\">posts.length; <span class=\"hljs-comment\">// 5</span>\n\n<span class=\"hljs-keyword\">let</span> firstPost = posts.models[<span class=\"hljs-number\">0</span>];\nposts.remove(firstPost);\nposts.save();\n\nposts.length; <span class=\"hljs-comment\">// 4</span></code></pre></div>","lineNumber":208,"access":"public","tags":[{"name":"method","value":"remove"}],"file":"orm/collection","returns":{"type":"any","description":"this","properties":[]},"params":[{"nullable":null,"spread":false,"optional":false,"name":"model","description":"","type":"Model"}],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"includes","description":"<div class=\"docs-md\"><p>Checks if the Collection includes the given model.</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\">posts.includes(newPost);</code></pre>\n<p>Works by checking if the given model name and id exists in the Collection,\nmaking it a bit more flexible than strict object equality.</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">let</span> post = server.create(<span class=\"hljs-string\">'post'</span>);\n<span class=\"hljs-keyword\">let</span> programming = server.create(<span class=\"hljs-string\">'tag'</span>, { <span class=\"hljs-attr\">text</span>: <span class=\"hljs-string\">'Programming'</span> });\n\nvisit(<span class=\"hljs-string\">`/posts/<span class=\"hljs-subst\">${post.id}</span>`</span>);\nclick(<span class=\"hljs-string\">'.tag-selector'</span>);\nclick(<span class=\"hljs-string\">'.tag:contains(Programming)'</span>);\n\npost.reload();\nassert.ok(post.tags.includes(programming));</code></pre></div>","lineNumber":244,"access":"public","tags":[{"name":"method","value":"includes"}],"file":"orm/collection","returns":{"type":"Boolean","description":"","properties":[]},"params":[],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"filter","description":"<div class=\"docs-md\"><p>Returns a new Collection with its models filtered according to the provided <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter\"  class=\"docs-md__a\">callback function</a>.</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">let</span> publishedPosts = user.posts.filter(<span class=\"hljs-function\"><span class=\"hljs-params\">post</span> =&gt;</span> post.isPublished);</code></pre></div>","lineNumber":259,"access":"public","tags":[{"name":"method","value":"filter"}],"file":"orm/collection","returns":{"type":"Collection","description":"","properties":[]},"params":[{"nullable":null,"spread":false,"optional":false,"name":"f","description":"","type":"Function"}],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"sort","description":"<div class=\"docs-md\"><p>Returns a new Collection with its models sorted according to the provided <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort#Parameters\"  class=\"docs-md__a\">compare function</a>.</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">let</span> postsByTitleAsc = user.posts.sort(<span class=\"hljs-function\">(<span class=\"hljs-params\">a, b</span>) =&gt;</span> {\n  <span class=\"hljs-keyword\">return</span> b.title &lt; a.title;\n});</code></pre></div>","lineNumber":279,"access":"public","tags":[{"name":"method","value":"sort"}],"file":"orm/collection","returns":{"type":"Collection","description":"","properties":[]},"params":[{"nullable":null,"spread":false,"optional":false,"name":"f","description":"","type":"Function"}],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"slice","description":"<div class=\"docs-md\"><p>Returns a new Collection with a subset of its models selected from <code>begin</code> to <code>end</code>.</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">let</span> firstThreePosts = user.posts.slice(<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">3</span>);</code></pre></div>","lineNumber":298,"access":"public","tags":[{"name":"method","value":"slice"}],"file":"orm/collection","returns":{"type":"Collection","description":"","properties":[]},"params":[{"nullable":null,"spread":false,"optional":false,"name":"begin","description":"","type":"Integer"},{"nullable":null,"spread":false,"optional":false,"name":"end","description":"","type":"Integer"}],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"mergeCollection","description":"<div class=\"docs-md\"><p>Modifies the Collection by merging the models from another collection.</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\">user.posts.mergeCollection(newPosts);\nuser.posts.save();</code></pre></div>","lineNumber":317,"access":"public","tags":[{"name":"method","value":"mergeCollection"}],"file":"orm/collection","returns":{"type":"any","description":"this","properties":[]},"params":[{"nullable":null,"spread":false,"optional":false,"name":"collection","description":"","type":"Collection"}],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"toString","description":"<div class=\"docs-md\"><p>Simple string representation of the collection and id.</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\">user.posts.toString(); <span class=\"hljs-comment\">// collection:post(post:1,post:4)</span></code></pre></div>","lineNumber":334,"access":"public","tags":[{"name":"method","value":"toString"}],"file":"orm/collection","returns":{"type":"String","description":"","properties":[]},"params":[],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]}],"accessors":[{"name":"length","description":"<div class=\"docs-md\"><p>The number of models in the collection.</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\">user.posts.length; <span class=\"hljs-comment\">// 2</span></code></pre></div>","lineNumber":82,"access":"public","tags":[],"file":"orm/collection","type":"Integer","isStatic":false,"decorators":[],"hasGetter":true,"hasSetter":false}],"parentClassId":null},"relationships":{"parentClass":{"data":null}}},{"type":"module","id":"orm/collection","attributes":{"file":"orm/collection","functions":[],"variables":[]},"relationships":{"classes":{"data":[{"type":"class","id":"orm/collection~Collection"}]},"components":{"data":[]}}},{"type":"class","id":"orm/model~Model","attributes":{"name":"Model","file":"orm/model","exportType":"default","description":"<div class=\"docs-md\"><p>Models wrap your database, and allow you to define relationships.</p>\n<p><strong>Class vs. instance methods</strong></p>\n<p>The methods documented below apply to <em>instances</em> of models, but you&#39;ll typically use the <code>Schema</code> to access the model _class_, which can be used to find or create instances.</p>\n<p>You can find the Class methods documented under the <code>Schema</code> API docs.</p>\n<p><strong>Accessing properties and relationships</strong></p>\n<p>You can access properites (fields) and relationships directly off of models.</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\">user.name;    <span class=\"hljs-comment\">// 'Sam'</span>\nuser.team;    <span class=\"hljs-comment\">// Team model</span>\nuser.teamId;  <span class=\"hljs-comment\">// Team id (foreign key)</span></code></pre>\n<p>Mirage Models are schemaless in their attributes, but their relationship schema is known.</p>\n<p>For example,</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">let</span> user = schema.users.create();\nuser.attrs  <span class=\"hljs-comment\">// { }</span>\nuser.name   <span class=\"hljs-comment\">// undefined</span>\n\n<span class=\"hljs-keyword\">let</span> user = schema.users.create({ <span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">'Sam'</span> });\nuser.attrs  <span class=\"hljs-comment\">// { name: 'Sam' }</span>\nuser.name   <span class=\"hljs-comment\">// 'Sam'</span></code></pre>\n<p>However, if a <code>user</code> has a <code>posts</code> relationships defined,</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">let</span> user = schema.users.create();\nuser.posts  <span class=\"hljs-comment\">// returns an empty Posts Collection</span></code></pre></div>","lineNumber":54,"access":"public","isInterface":false,"decorators":[],"tags":[{"name":"class","value":"Model"},{"name":"constructor","value":""}],"fields":[{"name":"attrs","description":"<div class=\"docs-md\"><p>Returns the attributes of your model.</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">let</span> post = schema.blogPosts.find(<span class=\"hljs-number\">1</span>);\npost.attrs; <span class=\"hljs-comment\">// {id: 1, title: 'Lorem Ipsum', publishedAt: '2012-01-01 10:00:00'}</span></code></pre>\n<p>Note that you can also access individual attributes directly off a model, e.g. <code>post.title</code>.</p></div>","lineNumber":84,"access":"public","tags":[],"file":"orm/model","type":"any","isStatic":false,"decorators":[]}],"methods":[{"name":"save","description":"<div class=\"docs-md\"><p>Create or saves the model.</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">let</span> post = blogPosts.new({ <span class=\"hljs-attr\">title</span>: <span class=\"hljs-string\">'Lorem ipsum'</span> });\npost.id; <span class=\"hljs-comment\">// null</span>\n\npost.save();\npost.id; <span class=\"hljs-comment\">// 1</span>\n\npost.title = <span class=\"hljs-string\">'Hipster ipsum'</span>; <span class=\"hljs-comment\">// db has not been updated</span>\npost.save();                  <span class=\"hljs-comment\">// ...now the db is updated</span></code></pre></div>","lineNumber":122,"access":"public","tags":[{"name":"method","value":"save"}],"file":"orm/model","returns":{"type":"any","description":"this","properties":[]},"params":[],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"update","description":"<div class=\"docs-md\"><p>Updates the record in the db.</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">let</span> post = blogPosts.find(<span class=\"hljs-number\">1</span>);\npost.update(<span class=\"hljs-string\">'title'</span>, <span class=\"hljs-string\">'Hipster ipsum'</span>); <span class=\"hljs-comment\">// the db was updated</span>\npost.update({\n  <span class=\"hljs-attr\">title</span>: <span class=\"hljs-string\">'Lorem ipsum'</span>,\n  <span class=\"hljs-attr\">created_at</span>: <span class=\"hljs-string\">'before it was cool'</span>\n});</code></pre></div>","lineNumber":160,"access":"public","tags":[{"name":"method","value":"update"}],"file":"orm/model","returns":{"type":"any","description":"this","properties":[]},"params":[{"nullable":null,"spread":false,"optional":false,"name":"key","description":"","type":"String"},{"nullable":null,"spread":false,"optional":false,"name":"val","description":"","type":"String"}],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"destroy","description":"<div class=\"docs-md\"><p>Destroys the db record.</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">let</span> post = blogPosts.find(<span class=\"hljs-number\">1</span>);\npost.destroy(); <span class=\"hljs-comment\">// removed from the db</span></code></pre></div>","lineNumber":198,"access":"public","tags":[{"name":"method","value":"destroy"}],"file":"orm/model","returns":null,"params":[],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"isNew","description":"<div class=\"docs-md\"><p>Boolean, true if the model has not been persisted yet to the db.</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">let</span> post = blogPosts.new({<span class=\"hljs-attr\">title</span>: <span class=\"hljs-string\">'Lorem ipsum'</span>});\npost.isNew(); <span class=\"hljs-comment\">// true</span>\npost.id;      <span class=\"hljs-comment\">// null</span>\n\npost.save();  <span class=\"hljs-comment\">// true</span>\npost.isNew(); <span class=\"hljs-comment\">// false</span>\npost.id;      <span class=\"hljs-comment\">// 1</span></code></pre></div>","lineNumber":224,"access":"public","tags":[{"name":"method","value":"isNew"}],"file":"orm/model","returns":{"type":"Boolean","description":"","properties":[]},"params":[],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"isSaved","description":"<div class=\"docs-md\"><p>Boolean, opposite of <code>isNew</code></p></div>","lineNumber":249,"access":"public","tags":[{"name":"method","value":"isSaved"}],"file":"orm/model","returns":{"type":"Boolean","description":"","properties":[]},"params":[],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"reload","description":"<div class=\"docs-md\"><p>Reload a model&#39;s data from the database.</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">let</span> post = blogPosts.find(<span class=\"hljs-number\">1</span>);\npost.attrs;     <span class=\"hljs-comment\">// {id: 1, title: 'Lorem ipsum'}</span>\n\npost.title = <span class=\"hljs-string\">'Hipster ipsum'</span>;\npost.title;     <span class=\"hljs-comment\">// 'Hipster ipsum';</span>\n\npost.reload();  <span class=\"hljs-comment\">// true</span>\npost.title;     <span class=\"hljs-comment\">// 'Lorem ipsum'</span></code></pre></div>","lineNumber":271,"access":"public","tags":[{"name":"method","value":"reload"}],"file":"orm/model","returns":{"type":"any","description":"this","properties":[]},"params":[],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"toString","description":"<div class=\"docs-md\"><p>Simple string representation of the model and id.</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">let</span> post = blogPosts.find(<span class=\"hljs-number\">1</span>);\npost.toString(); <span class=\"hljs-comment\">// \"model:blogPost:1\"</span></code></pre></div>","lineNumber":1036,"access":"public","tags":[{"name":"method","value":"toString"}],"file":"orm/model","returns":{"type":"String","description":"","properties":[]},"params":[],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]}],"accessors":[],"parentClassId":null},"relationships":{"parentClass":{"data":null}}},{"type":"module","id":"orm/model","attributes":{"file":"orm/model","functions":[],"variables":[]},"relationships":{"classes":{"data":[{"type":"class","id":"orm/model~Model"}]},"components":{"data":[]}}},{"type":"class","id":"orm/schema~Schema","attributes":{"name":"Schema","file":"orm/schema","exportType":"default","description":"<div class=\"docs-md\"><p>The primary use of the <code>Schema</code> class is to use it to find Models and Collections via the <code>Model</code> class methods.</p>\n<p>The <code>Schema</code> is most often accessed via the first parameter to a route handler:</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">this</span>.get(<span class=\"hljs-string\">'posts'</span>, schema =&gt; {\n  <span class=\"hljs-keyword\">return</span> schema.posts.where({ <span class=\"hljs-attr\">isAdmin</span>: <span class=\"hljs-literal\">false</span> });\n});</code></pre>\n<p>It is also available from the <code>.schema</code> property of a <code>server</code> instance:</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\">server.schema.users.create({ <span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">'Yehuda'</span> });</code></pre>\n<p>To work with the Model or Collection returned from one of the methods below, refer to the instance methods in the API docs for the <code>Model</code> and <code>Collection</code> classes.</p></div>","lineNumber":34,"access":"public","isInterface":false,"decorators":[],"tags":[{"name":"class","value":"Schema"},{"name":"constructor","value":""}],"fields":[{"name":"db","description":"<div class=\"docs-md\"><p>Returns Mirage&#39;s database. See the <code>Db</code> docs for the db&#39;s API.</p></div>","lineNumber":45,"access":"public","tags":[],"file":"orm/schema","type":"Object","isStatic":false,"decorators":[]}],"methods":[{"name":"new","description":"<div class=\"docs-md\"><p>Create a new unsaved model instance with attributes <em>attrs</em>.</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">let</span> post = blogPosts.new({ <span class=\"hljs-attr\">title</span>: <span class=\"hljs-string\">'Lorem ipsum'</span> });\npost.title;   <span class=\"hljs-comment\">// Lorem ipsum</span>\npost.id;      <span class=\"hljs-comment\">// null</span>\npost.isNew(); <span class=\"hljs-comment\">// true</span></code></pre></div>","lineNumber":174,"access":"public","tags":[{"name":"method","value":"new"}],"file":"orm/schema","returns":null,"params":[{"nullable":null,"spread":false,"optional":false,"name":"type","description":"","type":"any"},{"nullable":null,"spread":false,"optional":false,"name":"attrs","description":"","type":"any"}],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"create","description":"<div class=\"docs-md\"><p>Create a new model instance with attributes <em>attrs</em>, and insert it into the database.</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">let</span> post = blogPosts.create({<span class=\"hljs-attr\">title</span>: <span class=\"hljs-string\">'Lorem ipsum'</span>});\npost.title;   <span class=\"hljs-comment\">// Lorem ipsum</span>\npost.id;      <span class=\"hljs-comment\">// 1</span>\npost.isNew(); <span class=\"hljs-comment\">// false</span></code></pre></div>","lineNumber":193,"access":"public","tags":[{"name":"method","value":"create"}],"file":"orm/schema","returns":null,"params":[{"nullable":null,"spread":false,"optional":false,"name":"type","description":"","type":"any"},{"nullable":null,"spread":false,"optional":false,"name":"attrs","description":"","type":"any"}],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"all","description":"<div class=\"docs-md\"><p>Return all models in the database.</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">let</span> posts = blogPosts.all();\n<span class=\"hljs-comment\">// [post:1, post:2, ...]</span></code></pre></div>","lineNumber":209,"access":"public","tags":[{"name":"method","value":"all"}],"file":"orm/schema","returns":null,"params":[{"nullable":null,"spread":false,"optional":false,"name":"type","description":"","type":"any"}],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"none","description":"<div class=\"docs-md\"><p>Return an empty collection of type <code>type</code>.</p></div>","lineNumber":222,"access":"public","tags":[{"name":"method","value":"none"}],"file":"orm/schema","returns":null,"params":[{"nullable":null,"spread":false,"optional":false,"name":"type","description":"","type":"any"}],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"find","description":"<div class=\"docs-md\"><p>Return one or many models in the database by id.</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">let</span> post = blogPosts.find(<span class=\"hljs-number\">1</span>);\n<span class=\"hljs-keyword\">let</span> posts = blogPosts.find([<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">4</span>]);</code></pre></div>","lineNumber":239,"access":"public","tags":[{"name":"method","value":"find"}],"file":"orm/schema","returns":null,"params":[{"nullable":null,"spread":false,"optional":false,"name":"type","description":"","type":"any"},{"nullable":null,"spread":false,"optional":false,"name":"ids","description":"","type":"any"}],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"findBy","description":"<div class=\"docs-md\"><p>Returns the first model in the database that matches the key-value pairs in <code>attrs</code>. Note that a string comparison is used.</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">let</span> post = blogPosts.findBy({ <span class=\"hljs-attr\">published</span>: <span class=\"hljs-literal\">true</span> });</code></pre>\n<p>N.B. This will return <code>null</code> if the schema doesn&#39;t have any matching record.</p></div>","lineNumber":271,"access":"public","tags":[{"name":"method","value":"findBy"}],"file":"orm/schema","returns":null,"params":[{"nullable":null,"spread":false,"optional":false,"name":"type","description":"","type":"any"},{"nullable":null,"spread":false,"optional":false,"name":"attributeName","description":"","type":"any"}],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"findOrCreateBy","description":"<div class=\"docs-md\"><p>Returns the first model in the database that matches the key-value pairs in <code>attrs</code>, or creates a record with the attributes if one is not found.</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-comment\">// Find the first published blog post, or create a new one.</span>\n<span class=\"hljs-keyword\">let</span> post = blogPosts.findOrCreateBy({ <span class=\"hljs-attr\">published</span>: <span class=\"hljs-literal\">true</span> });</code></pre></div>","lineNumber":291,"access":"public","tags":[{"name":"method","value":"findOrCreateBy"}],"file":"orm/schema","returns":null,"params":[{"nullable":null,"spread":false,"optional":false,"name":"type","description":"","type":"any"},{"nullable":null,"spread":false,"optional":false,"name":"attributeName","description":"","type":"any"}],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"where","description":"<div class=\"docs-md\"><p>Return an ORM/Collection, which represents an array of models from the database matching <code>query</code>.</p>\n<p>If <code>query</code> is an object, its key-value pairs will be compared against records using string comparison.</p>\n<p><code>query</code> can also be a compare function.</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">let</span> posts = blogPosts.where({ <span class=\"hljs-attr\">published</span>: <span class=\"hljs-literal\">true</span> });\n<span class=\"hljs-keyword\">let</span> posts = blogPosts.where(<span class=\"hljs-function\"><span class=\"hljs-params\">post</span> =&gt;</span> post.published === <span class=\"hljs-literal\">true</span>);</code></pre></div>","lineNumber":322,"access":"public","tags":[{"name":"method","value":"where"}],"file":"orm/schema","returns":null,"params":[{"nullable":null,"spread":false,"optional":false,"name":"type","description":"","type":"any"},{"nullable":null,"spread":false,"optional":false,"name":"query","description":"","type":"any"}],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"first","description":"<div class=\"docs-md\"><p>Returns the first model in the database.</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">let</span> post = blogPosts.first();</code></pre>\n<p>N.B. This will return <code>null</code> if the schema doesn&#39;t contain any records.</p></div>","lineNumber":342,"access":"public","tags":[{"name":"method","value":"first"}],"file":"orm/schema","returns":null,"params":[{"nullable":null,"spread":false,"optional":false,"name":"type","description":"","type":"any"}],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]}],"accessors":[],"parentClassId":null},"relationships":{"parentClass":{"data":null}}},{"type":"module","id":"orm/schema","attributes":{"file":"orm/schema","functions":[],"variables":[]},"relationships":{"classes":{"data":[{"type":"class","id":"orm/schema~Schema"}]},"components":{"data":[]}}},{"type":"class","id":"response~Response","attributes":{"name":"Response","file":"response","exportType":"default","description":"<div class=\"docs-md\"><p>You can use this class when you want more control over your route handlers response.</p>\n<p>Pass the <code>code</code>, <code>headers</code> and <code>data</code> into the constructor and return an instance from any route handler.</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">import</span> { Response } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'miragejs'</span>;\n\n<span class=\"hljs-keyword\">this</span>.get(<span class=\"hljs-string\">'/users'</span>, () =&gt; {\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> Response(<span class=\"hljs-number\">400</span>, { <span class=\"hljs-attr\">some</span>: <span class=\"hljs-string\">'header'</span> }, { <span class=\"hljs-attr\">errors</span>: [ <span class=\"hljs-string\">'name cannot be blank'</span>] });\n});</code></pre></div>","lineNumber":16,"access":"public","isInterface":false,"decorators":[],"tags":[],"fields":[],"methods":[],"accessors":[],"parentClassId":null},"relationships":{"parentClass":{"data":null}}},{"type":"module","id":"response","attributes":{"file":"response","functions":[],"variables":[]},"relationships":{"classes":{"data":[{"type":"class","id":"response~Response"}]},"components":{"data":[]}}},{"type":"class","id":"serializer~Serializer","attributes":{"name":"Serializer","file":"serializer","exportType":"default","description":"<div class=\"docs-md\"><p>Serializers are responsible for formatting your route handler&#39;s response.</p>\n<p>The application serializer will apply to every response. To make specific customizations, define per-model serializers.</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">import</span> { Server, RestSerializer } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'miragejs'</span>;\n\n<span class=\"hljs-keyword\">new</span> Server({\n  <span class=\"hljs-attr\">serializers</span>: {\n    <span class=\"hljs-attr\">application</span>: RestSerializer,\n    <span class=\"hljs-attr\">user</span>: RestSerializer.extend({\n      <span class=\"hljs-comment\">// user-specific customizations</span>\n    })\n  }\n})</code></pre>\n<p>Any Model or Collection returned from a route handler will pass through the serializer layer. Highest priority will be given to a model-specific serializer, then the application serializer, then the default serializer.</p>\n<p>Mirage ships with three named serializers:</p>\n<ul>\n<li><p><strong>JSONAPISerializer</strong>, to simulate JSON:API compliant API servers:</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">import</span> { Server, JSONAPISerializer } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'miragejs'</span>;\n\n<span class=\"hljs-keyword\">new</span> Server({\n  <span class=\"hljs-attr\">serializers</span>: {\n    <span class=\"hljs-attr\">application</span>: JSONAPISerializer\n  }\n})</code></pre>\n</li>\n<li><p><strong>ActiveModelSerializer</strong>, to mock Rails APIs that use AMS-style responses:</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">import</span> { Server, ActiveModelSerializer } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'miragejs'</span>;\n\n<span class=\"hljs-keyword\">new</span> Server({\n  <span class=\"hljs-attr\">serializers</span>: {\n    <span class=\"hljs-attr\">application</span>: JSONAPISerializer\n  }\n})</code></pre>\n</li>\n<li><p><strong>RestSerializer</strong>, a good starting point for many generic REST APIs:</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">import</span> { Server, RestSerializer } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'miragejs'</span>;\n\n<span class=\"hljs-keyword\">new</span> Server({\n  <span class=\"hljs-attr\">serializers</span>: {\n    <span class=\"hljs-attr\">application</span>: JSONAPISerializer\n  }\n})</code></pre>\n</li>\n</ul>\n<p>Additionally, Mirage has a basic Serializer class which you can customize using the hooks documented below:</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">import</span> { Server, Serializer } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'miragejs'</span>;\n\n<span class=\"hljs-keyword\">new</span> Server({\n  <span class=\"hljs-attr\">serializers</span>: {\n    <span class=\"hljs-attr\">application</span>: JSONAPISerializer\n  }\n})</code></pre>\n<p>When writing model-specific serializers, remember to extend from your application serializer so shared logic is used by your model-specific classes:</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">import</span> { Server, Serializer } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'miragejs'</span>;\n\n<span class=\"hljs-keyword\">const</span> ApplicationSerializer = Serializer.extend()\n\n<span class=\"hljs-keyword\">new</span> Server({\n  <span class=\"hljs-attr\">serializers</span>: {\n    <span class=\"hljs-attr\">application</span>: ApplicationSerializer,\n    <span class=\"hljs-attr\">blogPost</span>: ApplicationSerializer.extend({\n      <span class=\"hljs-attr\">include</span>: [<span class=\"hljs-string\">'comments'</span>]\n    })\n  }\n})</code></pre></div>","lineNumber":105,"access":"public","isInterface":false,"decorators":[],"tags":[{"name":"class","value":"Serializer"},{"name":"constructor","value":""}],"fields":[{"name":"attrs","description":"<div class=\"docs-md\"><p>Use this property on a model serializer to whitelist attributes that will be used in your JSON payload.</p>\n<p>For example, if you had a <code>blog-post</code> model in your database that looked like</p>\n<pre class=\"docs-md__code\"><code>{\n  id: 1,\n  title: &#39;Lorem ipsum&#39;,\n  createdAt: &#39;2014-01-01 10:00:00&#39;,\n  updatedAt: &#39;2014-01-03 11:42:12&#39;\n}</code></pre><p>and you just wanted <code>id</code> and <code>title</code>, you could write</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\">Serializer.extend({\n  <span class=\"hljs-attr\">attrs</span>: [<span class=\"hljs-string\">'id'</span>, <span class=\"hljs-string\">'title'</span>]\n});</code></pre>\n<p>and the payload would look like</p>\n<pre class=\"docs-md__code\"><code>{\n  id: 1,\n  title: &#39;Lorem ipsum&#39;\n}</code></pre></div>","lineNumber":145,"access":"public","tags":[],"file":"serializer","type":"any","isStatic":false,"decorators":[]},{"name":"include","description":"<div class=\"docs-md\"><p>Use this property on a model serializer to specify related models you&#39;d like to include in your JSON payload. (These can be considered default server-side includes.)</p>\n<p>For example, if you had an <code>author</code> with many <code>blog-post</code>s and you wanted to sideload these, specify so in the <code>include</code> key:</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">new</span> Server({\n  <span class=\"hljs-attr\">models</span>: {\n    <span class=\"hljs-attr\">author</span>: Model.extend({\n      <span class=\"hljs-attr\">blogPosts</span>: hasMany()\n    })\n  },\n  <span class=\"hljs-attr\">serializers</span>: {\n    <span class=\"hljs-attr\">author</span>: Serializer.extend({\n      <span class=\"hljs-attr\">include</span>: [<span class=\"hljs-string\">'blogPosts'</span>]\n    });\n  }\n})</code></pre>\n<p>Now a response to a request for an author would look like this:</p>\n<pre class=\"docs-md__code\"><code>GET /authors/1\n\n{\n  author: {\n    id: 1,\n    name: &#39;Link&#39;,\n    blogPostIds: [1, 2]\n  },\n  blogPosts: [\n    {id: 1, authorId: 1, title: &#39;Lorem&#39;},\n    {id: 2, authorId: 1, title: &#39;Ipsum&#39;}\n  ]\n}</code></pre><p>You can also define <code>include</code> as a function so it can be determined dynamically:</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\">Serializer.extend({\n  <span class=\"hljs-attr\">include</span>: <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">request</span>) </span>{\n    <span class=\"hljs-keyword\">if</span> (request.queryParams.posts) {\n      <span class=\"hljs-keyword\">return</span> [<span class=\"hljs-string\">'blogPosts'</span>];\n    } <span class=\"hljs-keyword\">else</span> {\n      <span class=\"hljs-keyword\">return</span> [];\n    }\n  }\n});</code></pre>\n<p><strong>Query param includes for JSONAPISerializer</strong></p>\n<p>The JSONAPISerializer supports the use of <code>include</code> query parameter to return compound documents out of the box.</p>\n<p>For example, if your app makes the following request</p>\n<pre class=\"docs-md__code\"><code>GET /api/authors?include=blogPosts</code></pre><p>the <code>JSONAPISerializer</code> will inspect the query params of the request, see that the blogPosts relationship is present, and then proceed as if this relationship was specified directly in the include: [] array on the serializer itself.</p>\n<p>Note that, in accordance with the spec, Mirage gives precedence to an ?include query param over a default include: [] array that you might have specified directly on the serializer. Default includes will still be in effect, however, if a request does not have an ?include query param.</p>\n<p>Also note that default includes specified with the <code>include: []</code> array can only take a single model; they cannot take dot-separated paths to nested relationships.</p>\n<p>If you&#39;d like to set a default dot-separated (nested) include path for a resource, you have to do it at the route level by setting a default value for <code>request.queryParams</code>:</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">this</span>.get(<span class=\"hljs-string\">'/users'</span>, <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">schema, request</span>) =&gt; </span>{\n  request.queryParams = request.queryParams || {};\n  <span class=\"hljs-keyword\">if</span> (!request.queryParams.include) {\n    request.queryParams.include = <span class=\"hljs-string\">'blog-posts.comments'</span>;\n  }\n\n  <span class=\"hljs-comment\">// rest of route handler logic</span>\n});</code></pre></div>","lineNumber":231,"access":"public","tags":[],"file":"serializer","type":"any","isStatic":false,"decorators":[]},{"name":"root","description":"<div class=\"docs-md\"><p>Set whether your JSON response should have a root key in it.</p>\n<p><em>Doesn&#39;t apply to JSONAPISerializer.</em></p>\n<p>Defaults to true, so a request for an author looks like:</p>\n<pre class=\"docs-md__code\"><code>GET /authors/1\n\n{\n  author: {\n    id: 1,\n    name: &#39;Link&#39;\n  }\n}</code></pre><p>Setting <code>root</code> to false disables this:</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\">Serializer.extend({\n  <span class=\"hljs-attr\">root</span>: <span class=\"hljs-literal\">false</span>\n});</code></pre>\n<p>Now the response looks like:</p>\n<pre class=\"docs-md__code\"><code>GET /authors/1\n\n{\n  id: 1,\n  name: &#39;Link&#39;\n}</code></pre></div>","lineNumber":273,"access":"public","tags":[],"file":"serializer","type":"any","isStatic":false,"decorators":[]},{"name":"embed","description":"<div class=\"docs-md\"><p>Set whether related models should be embedded or sideloaded.</p>\n<p><em>Doesn&#39;t apply to JSONAPISerializer.</em></p>\n<p>By default this false, so relationships are sideloaded:</p>\n<pre class=\"docs-md__code\"><code>GET /authors/1\n\n{\n  author: {\n    id: 1,\n    name: &#39;Link&#39;,\n    blogPostIds: [1, 2]\n  },\n  blogPosts: [\n    { id: 1, authorId: 1, title: &#39;Lorem&#39; },\n    { id: 2, authorId: 1, title: &#39;Ipsum&#39; }\n  ]\n}</code></pre><p>Setting <code>embed</code> to true will embed related records:</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\">Serializer.extend({\n  <span class=\"hljs-attr\">embed</span>: <span class=\"hljs-literal\">true</span>\n});</code></pre>\n<p>Now the response looks like:</p>\n<pre class=\"docs-md__code\"><code>GET /authors/1\n\n{\n  author: {\n    id: 1,\n    name: &#39;Link&#39;,\n    blogPosts: [\n      { id: 1, authorId: 1, title: &#39;Lorem&#39; },\n      { id: 2, authorId: 1, title: &#39;Ipsum&#39; }\n    ]\n  }\n}</code></pre></div>","lineNumber":323,"access":"public","tags":[],"file":"serializer","type":"any","isStatic":false,"decorators":[]},{"name":"serializeIds","description":"<div class=\"docs-md\"><p>Use this to define how your serializer handles serializing relationship keys. It can take one of three values:</p>\n<ul>\n<li><code>included</code>, which is the default, will serialize the ids of a relationship if that relationship is included (sideloaded) along with the model or collection in the response</li>\n<li><code>always</code> will always serialize the ids of all relationships for the model or collection in the response</li>\n<li><code>never</code> will never serialize the ids of relationships for the model or collection in the response</li>\n</ul>\n<p><em>Note: this feature was added in 0.2.2.</em></p></div>","lineNumber":337,"access":"public","tags":[],"file":"serializer","type":"any","isStatic":false,"decorators":[]}],"methods":[{"name":"serialize","description":"<div class=\"docs-md\"><p>Override this method to implement your own custom serialize function. <em>response</em> is whatever was returned from your route handler, and <em>request</em> is the Pretender request object.</p>\n<p>Returns a plain JavaScript object or array, which Mirage uses as the response data to your app&#39;s XHR request.</p>\n<p>You can also override this method, call super, and manipulate the data before Mirage responds with it. This is a great place to add metadata, or for one-off operations that don&#39;t fit neatly into any of Mirage&#39;s other abstractions:</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\">serialize(object, request) {\n  <span class=\"hljs-comment\">// This is how to call super, as Mirage borrows [Backbone's implementation of extend](http://backbonejs.org/#Model-extend)</span>\n  <span class=\"hljs-keyword\">let</span> json = Serializer.prototype.serialize.apply(<span class=\"hljs-keyword\">this</span>, <span class=\"hljs-built_in\">arguments</span>);\n\n  <span class=\"hljs-comment\">// Add metadata, sort parts of the response, etc.</span>\n\n  <span class=\"hljs-keyword\">return</span> json;\n}</code></pre></div>","lineNumber":362,"access":"public","tags":[],"file":"serializer","returns":{"type":" Object ","description":"the json response","properties":[]},"params":[{"nullable":null,"spread":false,"optional":false,"name":"primaryResource","description":"","type":"any"},{"nullable":null,"spread":false,"optional":false,"name":"request","description":"","type":"any"}],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"normalize","description":"<div class=\"docs-md\"><p>This method is used by the POST and PUT shorthands. These shorthands expect a valid JSON:API document as part of the request, so that they know how to create or update the appropriate resouce. The <em>normalize</em> method allows you to transform your request body into a JSON:API document, which lets you take advantage of the shorthands when you otherwise may not be able to.</p>\n<p>Note that this method is a noop if you&#39;re using JSON:API already, since request payloads sent along with POST and PUT requests will already be in the correct format.</p>\n<p>Take a look at the included <code>ActiveModelSerializer</code>&#39;s normalize method for an example.</p></div>","lineNumber":377,"access":"public","tags":[{"name":"method","value":"normalize"}],"file":"serializer","returns":null,"params":[{"nullable":null,"spread":false,"optional":false,"name":"json","description":"","type":"any"}],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"keyForModel","description":"<div class=\"docs-md\"><p>Used to define a custom key when serializing a primary model of modelName <em>modelName</em>. For example, the default Serializer will return something like the following:</p>\n<pre class=\"docs-md__code\"><code>GET /blogPosts/1\n\n{\n  blogPost: {\n    id: 1,\n    title: &#39;Lorem ipsum&#39;\n  }\n}</code></pre><p>If your API uses hyphenated keys, you could overwrite <code>keyForModel</code>:</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-comment\">// serializers/application.js</span>\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> Serializer.extend({\n  keyForModel(modelName) {\n    <span class=\"hljs-keyword\">return</span> hyphenate(modelName);\n  }\n});</code></pre>\n<p>Now the response will look like</p>\n<pre class=\"docs-md__code\"><code>{\n  &#39;blog-post&#39;: {\n    id: 1,\n    title: &#39;Lorem ipsum&#39;\n  }\n}</code></pre></div>","lineNumber":622,"access":"public","tags":[{"name":"method","value":"keyForModel"}],"file":"serializer","returns":null,"params":[{"nullable":null,"spread":false,"optional":false,"name":"modelName","description":"","type":"any"}],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"keyForCollection","description":"<div class=\"docs-md\"><p>Used to customize the key when serializing a primary collection. By default this pluralizes the return value of <code>keyForModel</code>.</p>\n<p>For example, by default the following request may look like:</p>\n<pre class=\"docs-md__code\"><code>GET /blogPosts\n\n{\n  blogPosts: [\n    {\n      id: 1,\n      title: &#39;Lorem ipsum&#39;\n    },\n    ...\n  ]\n}</code></pre><p>If your API hyphenates keys, you could overwrite <code>keyForCollection</code>:</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-comment\">// serializers/application.js</span>\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> Serializer.extend({\n  keyForCollection(modelName) {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">this</span>._container.inflector.pluralize(dasherize(modelName));\n  }\n});</code></pre>\n<p>Now the response would look like:</p>\n<pre class=\"docs-md__code\"><code>{\n  &#39;blog-posts&#39;: [\n    {\n      id: 1,\n      title: &#39;Lorem ipsum&#39;\n    },\n    ...\n  ]\n}</code></pre></div>","lineNumber":674,"access":"public","tags":[{"name":"method","value":"keyForCollection"}],"file":"serializer","returns":null,"params":[{"nullable":null,"spread":false,"optional":false,"name":"modelName","description":"","type":"any"}],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"keyForAttribute","description":"<div class=\"docs-md\"><p>Used to customize how a model&#39;s attribute is formatted in your JSON payload.</p>\n<p>By default, model attributes are camelCase:</p>\n<pre class=\"docs-md__code\"><code>GET /authors/1\n\n{\n  author: {\n    firstName: &#39;Link&#39;,\n    lastName: &#39;The WoodElf&#39;\n  }\n}</code></pre><p>If your API expects snake case, you could write the following:</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-comment\">// serializers/application.js</span>\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> Serializer.extend({\n  keyForAttribute(attr) {\n    <span class=\"hljs-keyword\">return</span> underscore(attr);\n  }\n});</code></pre>\n<p>Now the response would look like:</p>\n<pre class=\"docs-md__code\"><code>{\n  author: {\n    first_name: &#39;Link&#39;,\n    last_name: &#39;The WoodElf&#39;\n  }\n}</code></pre></div>","lineNumber":846,"access":"public","tags":[{"name":"method","value":"keyForAttribute"}],"file":"serializer","returns":null,"params":[{"nullable":null,"spread":false,"optional":false,"name":"attr","description":"","type":"any"}],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"keyForRelationship","description":"<div class=\"docs-md\"><p>Use this hook to format the key for collections related to this model. <em>modelName</em> is the named parameter for the relationship.</p>\n<p>For example, if you&#39;re serializing an <code>author</code> that\nsideloads many <code>blogPosts</code>, the default response will look like:</p>\n<pre class=\"docs-md__code\"><code>{\n  author: {...},\n  blogPosts: [...]\n}</code></pre><p>Overwrite <code>keyForRelationship</code> to format this key:</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-comment\">// serializers/application.js</span>\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> Serializer.extend({\n  keyForRelationship(modelName) {\n    <span class=\"hljs-keyword\">return</span> underscore(modelName);\n  }\n});</code></pre>\n<p>Now the response will look like this:</p>\n<pre class=\"docs-md__code\"><code>{\n  author: {...},\n  blog_posts: [...]\n}</code></pre></div>","lineNumber":887,"access":"public","tags":[{"name":"method","value":"keyForRelationship"}],"file":"serializer","returns":null,"params":[{"nullable":null,"spread":false,"optional":false,"name":"modelName","description":"","type":"any"}],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"keyForEmbeddedRelationship","description":"<div class=\"docs-md\"><p>Like <code>keyForRelationship</code>, but for embedded relationships.</p></div>","lineNumber":898,"access":"public","tags":[{"name":"method","value":"keyForEmbeddedRelationship"}],"file":"serializer","returns":null,"params":[{"nullable":null,"spread":false,"optional":false,"name":"attributeName","description":"","type":"any"}],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"keyForRelationshipIds","description":"<div class=\"docs-md\"><p>Use this hook to format the key for the IDS of a <code>hasMany</code> relationship\nin this model&#39;s JSON representation.</p>\n<p>For example, if you&#39;re serializing an <code>author</code> that\nsideloads many <code>blogPosts</code>, by default your <code>author</code> JSON would include a <code>blogPostIds</code> key:</p>\n<pre class=\"docs-md__code\"><code>{\n  author: {\n    id: 1,\n    blogPostIds: [1, 2, 3]\n  },\n  blogPosts: [...]\n}</code></pre><p>Overwrite <code>keyForRelationshipIds</code> to format this key:</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-comment\">// serializers/application.js</span>\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> Serializer.extend({\n  keyForRelationshipIds(relationship) {\n    <span class=\"hljs-keyword\">return</span> underscore(relationship) + <span class=\"hljs-string\">'_ids'</span>;\n  }\n});</code></pre>\n<p>Now the response will look like:</p>\n<pre class=\"docs-md__code\"><code>{\n  author: {\n    id: 1,\n    blog_post_ids: [1, 2, 3]\n  },\n  blogPosts: [...]\n}</code></pre></div>","lineNumber":946,"access":"public","tags":[{"name":"method","value":"keyForRelationshipIds"}],"file":"serializer","returns":null,"params":[{"nullable":null,"spread":false,"optional":false,"name":"modelName","description":"","type":"any"}],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"keyForForeignKey","description":"<div class=\"docs-md\"><p>Like <code>keyForRelationshipIds</code>, but for <code>belongsTo</code> relationships.</p>\n<p>For example, if you&#39;re serializing a <code>blogPost</code> that sideloads one <code>author</code>,\nyour <code>blogPost</code> JSON would include a <code>authorId</code> key:</p>\n<pre class=\"docs-md__code\"><code>{\n  blogPost: {\n    id: 1,\n    authorId: 1\n  },\n  author: ...\n}</code></pre><p>Overwrite <code>keyForForeignKey</code> to format this key:</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-comment\">// serializers/application.js</span>\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> Serializer.extend({\n  keyForForeignKey(relationshipName) {\n    <span class=\"hljs-keyword\">return</span> underscore(relationshipName) + <span class=\"hljs-string\">'_id'</span>;\n  }\n});</code></pre>\n<p>Now the response will look like:</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\">{\n  <span class=\"hljs-attr\">blogPost</span>: {\n    <span class=\"hljs-attr\">id</span>: <span class=\"hljs-number\">1</span>,\n    <span class=\"hljs-attr\">author_id</span>: <span class=\"hljs-number\">1</span>\n  },\n  <span class=\"hljs-attr\">author</span>: ...\n}</code></pre></div>","lineNumber":995,"access":"public","tags":[{"name":"method","value":"keyForForeignKey"}],"file":"serializer","returns":null,"params":[{"nullable":null,"spread":false,"optional":false,"name":"relationshipName","description":"","type":"any"}],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"keyForPolymorphicForeignKeyId","description":"<div class=\"docs-md\"><p>Polymorphic relationships are represented with type-id pairs.</p>\n<p>Given the following model</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\">Model.extend({\n  <span class=\"hljs-attr\">commentable</span>: belongsTo({ <span class=\"hljs-attr\">polymorphic</span>: <span class=\"hljs-literal\">true</span> })\n});</code></pre>\n<p>the default Serializer would produce</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\">{\n  <span class=\"hljs-attr\">comment</span>: {\n    <span class=\"hljs-attr\">id</span>: <span class=\"hljs-number\">1</span>,\n    <span class=\"hljs-attr\">commentableType</span>: <span class=\"hljs-string\">'post'</span>,\n    <span class=\"hljs-attr\">commentableId</span>: <span class=\"hljs-string\">'1'</span>\n  }\n}</code></pre>\n<p>This hook controls how the <code>id</code> field (<code>commentableId</code> in the above example)\nis serialized. By default it camelizes the relationship and adds <code>Id</code> as a suffix.</p></div>","lineNumber":1030,"access":"public","tags":[{"name":"method","value":"keyForPolymorphicForeignKeyId"}],"file":"serializer","returns":{"type":"String","description":"","properties":[]},"params":[{"nullable":null,"spread":false,"optional":false,"name":"relationshipName","description":"","type":"String"}],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"keyForPolymorphicForeignKeyType","description":"<div class=\"docs-md\"><p>Polymorphic relationships are represented with type-id pairs.</p>\n<p>Given the following model</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\">Model.extend({\n  <span class=\"hljs-attr\">commentable</span>: belongsTo({ <span class=\"hljs-attr\">polymorphic</span>: <span class=\"hljs-literal\">true</span> })\n});</code></pre>\n<p>the default Serializer would produce</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\">{\n  <span class=\"hljs-attr\">comment</span>: {\n    <span class=\"hljs-attr\">id</span>: <span class=\"hljs-number\">1</span>,\n    <span class=\"hljs-attr\">commentableType</span>: <span class=\"hljs-string\">'post'</span>,\n    <span class=\"hljs-attr\">commentableId</span>: <span class=\"hljs-string\">'1'</span>\n  }\n}</code></pre>\n<p>This hook controls how the <code>type</code> field (<code>commentableType</code> in the above example)\nis serialized. By default it camelizes the relationship and adds <code>Type</code> as a suffix.</p></div>","lineNumber":1065,"access":"public","tags":[{"name":"method","value":"keyForPolymorphicForeignKeyType"}],"file":"serializer","returns":{"type":"String","description":"","properties":[]},"params":[{"nullable":null,"spread":false,"optional":false,"name":"relationshipName","description":"","type":"String"}],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]}],"accessors":[],"parentClassId":null},"relationships":{"parentClass":{"data":null}}},{"type":"module","id":"serializer","attributes":{"file":"serializer","functions":[],"variables":[]},"relationships":{"classes":{"data":[{"type":"class","id":"serializer~Serializer"}]},"components":{"data":[]}}},{"type":"class","id":"serializers/json-api-serializer~JSONAPISerializer","attributes":{"name":"JSONAPISerializer","file":"serializers/json-api-serializer","exportType":"default","description":"<div class=\"docs-md\"><p>The JSONAPISerializer. Subclass of Serializer.</p></div>","lineNumber":16,"access":"public","isInterface":false,"decorators":[],"tags":[{"name":"class","value":"JSONAPISerializer"},{"name":"constructor","value":""}],"fields":[{"name":"alwaysIncludeLinkageData","description":"<div class=\"docs-md\"><p>By default, JSON:API&#39;s linkage data is only added for relationships that are being included in the current request.</p>\n<p>That means given an <code>author</code> model with a <code>posts</code> relationship, a GET request to /authors/1 would return a JSON:API document with an empty <code>relationships</code> hash:</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\">{\n  <span class=\"hljs-attr\">data</span>: {\n    <span class=\"hljs-attr\">type</span>: <span class=\"hljs-string\">'authors'</span>,\n    <span class=\"hljs-attr\">id</span>: <span class=\"hljs-string\">'1'</span>,\n    <span class=\"hljs-attr\">attributes</span>: { ... }\n  }\n}</code></pre>\n<p>but a request to GET /authors/1?include=posts would have linkage data added (in addition to the included resources):</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\">{\n  <span class=\"hljs-attr\">data</span>: {\n    <span class=\"hljs-attr\">type</span>: <span class=\"hljs-string\">'authors'</span>,\n    <span class=\"hljs-attr\">id</span>: <span class=\"hljs-string\">'1'</span>,\n    <span class=\"hljs-attr\">attributes</span>: { ... },\n    <span class=\"hljs-attr\">relationships</span>: {\n      <span class=\"hljs-attr\">data</span>: [\n        { <span class=\"hljs-attr\">type</span>: <span class=\"hljs-string\">'posts'</span>, <span class=\"hljs-attr\">id</span>: <span class=\"hljs-string\">'1'</span> },\n        { <span class=\"hljs-attr\">type</span>: <span class=\"hljs-string\">'posts'</span>, <span class=\"hljs-attr\">id</span>: <span class=\"hljs-string\">'2'</span> },\n        { <span class=\"hljs-attr\">type</span>: <span class=\"hljs-string\">'posts'</span>, <span class=\"hljs-attr\">id</span>: <span class=\"hljs-string\">'3'</span> }\n      ]\n    }\n  },\n  <span class=\"hljs-attr\">included</span>: [ ... ]\n}</code></pre>\n<p>To add the linkage data for all relationships, you could set <code>alwaysIncludeLinkageData</code> to <code>true</code>:</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\">JSONAPISerializer.extend({\n  <span class=\"hljs-attr\">alwaysIncludeLinkageData</span>: <span class=\"hljs-literal\">true</span>\n});</code></pre>\n<p>Then, a GET to /authors/1 would respond with</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\">{\n  <span class=\"hljs-attr\">data</span>: {\n    <span class=\"hljs-attr\">type</span>: <span class=\"hljs-string\">'authors'</span>,\n    <span class=\"hljs-attr\">id</span>: <span class=\"hljs-string\">'1'</span>,\n    <span class=\"hljs-attr\">attributes</span>: { ... },\n    <span class=\"hljs-attr\">relationships</span>: {\n      <span class=\"hljs-attr\">posts</span>: {\n        <span class=\"hljs-attr\">data</span>: [\n          { <span class=\"hljs-attr\">type</span>: <span class=\"hljs-string\">'posts'</span>, <span class=\"hljs-attr\">id</span>: <span class=\"hljs-string\">'1'</span> },\n          { <span class=\"hljs-attr\">type</span>: <span class=\"hljs-string\">'posts'</span>, <span class=\"hljs-attr\">id</span>: <span class=\"hljs-string\">'2'</span> },\n          { <span class=\"hljs-attr\">type</span>: <span class=\"hljs-string\">'posts'</span>, <span class=\"hljs-attr\">id</span>: <span class=\"hljs-string\">'3'</span> }\n        ]\n      }\n    }\n  }\n}</code></pre>\n<p>even though the related <code>posts</code> are not included in the same document.</p>\n<p>You can also use the <code>links</code> method (on the Serializer base class) to add relationship links (which will always be added regardless of the relationship is being included document), or you could use <code>shouldIncludeLinkageData</code> for more granular control.</p>\n<p>For more background on the behavior of this API, see <a href=\"http://www.ember-cli-mirage.com/blog/changing-mirages-default-linkage-data-behavior-1475\"  class=\"docs-md__a\">this blog post</a>.</p></div>","lineNumber":94,"access":"public","tags":[],"file":"serializers/json-api-serializer","type":"Boolean","isStatic":false,"decorators":[]}],"methods":[{"name":"keyForAttribute","description":"<div class=\"docs-md\"><p>Used to customize the key for an attribute. By default, compound attribute names are dasherized.</p>\n<p>For example, the JSON:API document for a <code>post</code> model with a <code>commentCount</code> attribute would be:</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\">{\n  <span class=\"hljs-attr\">data</span>: {\n    <span class=\"hljs-attr\">id</span>: <span class=\"hljs-number\">1</span>,\n    <span class=\"hljs-attr\">type</span>: <span class=\"hljs-string\">'posts'</span>,\n    <span class=\"hljs-attr\">attributes</span>: {\n      <span class=\"hljs-string\">'comment-count'</span>: <span class=\"hljs-number\">28</span>\n    }\n  }\n}</code></pre></div>","lineNumber":129,"access":"public","tags":[{"name":"method","value":"keyForAttribute"}],"file":"serializers/json-api-serializer","returns":{"type":"String","description":"","properties":[]},"params":[{"nullable":null,"spread":false,"optional":false,"name":"attr","description":"","type":"String"}],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"keyForRelationship","description":"<div class=\"docs-md\"><p>Used to customize the key for a relationships. By default, compound relationship names are dasherized.</p>\n<p>For example, the JSON:API document for an <code>author</code> model with a <code>blogPosts</code> relationship would be:</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\">{\n  <span class=\"hljs-attr\">data</span>: {\n    <span class=\"hljs-attr\">id</span>: <span class=\"hljs-number\">1</span>,\n    <span class=\"hljs-attr\">type</span>: <span class=\"hljs-string\">'author'</span>,\n    <span class=\"hljs-attr\">attributes</span>: {\n      ...\n    },\n    <span class=\"hljs-attr\">relationships</span>: {\n      <span class=\"hljs-string\">'blog-posts'</span>: {\n        ...\n      }\n    }\n  }\n}</code></pre></div>","lineNumber":160,"access":"public","tags":[{"name":"method","value":"keyForRelationship"}],"file":"serializers/json-api-serializer","returns":{"type":"String","description":"","properties":[]},"params":[{"nullable":null,"spread":false,"optional":false,"name":"key","description":"","type":"String"}],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"links","description":"<div class=\"docs-md\"><p>Use this hook to add top-level <code>links</code> data to JSON:API resource objects. The argument is the model being serialized.</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-comment\">// serializers/author.js</span>\n<span class=\"hljs-keyword\">import</span> { JSONAPISerializer } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'miragejs'</span>;\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> JSONAPISerializer.extend({\n\n  links(author) {\n    <span class=\"hljs-keyword\">return</span> {\n      <span class=\"hljs-string\">'posts'</span>: {\n        <span class=\"hljs-attr\">related</span>: <span class=\"hljs-string\">`/api/authors/<span class=\"hljs-subst\">${author.id}</span>/posts`</span>\n      }\n    };\n  }\n\n});</code></pre></div>","lineNumber":187,"access":"public","tags":[{"name":"method","value":"links"}],"file":"serializers/json-api-serializer","returns":null,"params":[{"nullable":null,"spread":false,"optional":false,"name":"model","description":"","type":"any"}],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"typeKeyForModel","description":"<div class=\"docs-md\"><p>Used to customize the <code>type</code> field of the document. By default, pluralizes and dasherizes the model&#39;s <code>modelName</code>.</p>\n<p>For example, the JSON:API document for a <code>blogPost</code> model would be:</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\">{\n  <span class=\"hljs-attr\">data</span>: {\n    <span class=\"hljs-attr\">id</span>: <span class=\"hljs-number\">1</span>,\n    <span class=\"hljs-attr\">type</span>: <span class=\"hljs-string\">'blog-posts'</span>\n  }\n}</code></pre></div>","lineNumber":582,"access":"public","tags":[{"name":"method","value":"typeKeyForModel"}],"file":"serializers/json-api-serializer","returns":{"type":"String","description":"","properties":[]},"params":[{"nullable":null,"spread":false,"optional":false,"name":"model","description":"","type":"Model"}],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"shouldIncludeLinkageData","description":"<div class=\"docs-md\"><p>Allows for per-relationship inclusion of linkage data. Use this when <code>alwaysIncludeLinkageData</code> is not granular enough.</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> JSONAPISerializer.extend({\n  shouldIncludeLinkageData(relationshipKey, model) {\n    <span class=\"hljs-keyword\">if</span> (relationshipKey === <span class=\"hljs-string\">'author'</span> || relationshipKey === <span class=\"hljs-string\">'ghostWriter'</span>) {\n      <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">true</span>;\n    }\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">false</span>;\n  }\n});</code></pre></div>","lineNumber":614,"access":"public","tags":[{"name":"method","value":"shouldIncludeLinkageData"}],"file":"serializers/json-api-serializer","returns":{"type":"Boolean","description":"","properties":[]},"params":[{"nullable":null,"spread":false,"optional":false,"name":"relationshipKey","description":"","type":"String"},{"nullable":null,"spread":false,"optional":false,"name":"model","description":"","type":"Model"}],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]}],"accessors":[],"parentClassId":"lib/serializer.js~Serializer"},"relationships":{"parentClass":{"data":null}}},{"type":"module","id":"serializers/json-api-serializer","attributes":{"file":"serializers/json-api-serializer","functions":[],"variables":[]},"relationships":{"classes":{"data":[{"type":"class","id":"serializers/json-api-serializer~JSONAPISerializer"}]},"components":{"data":[]}}},{"type":"class","id":"server~Server","attributes":{"name":"Server","file":"server","exportType":"default","description":"<div class=\"docs-md\"><p>The Mirage server.</p>\n<p>Note that <code>this</code> within your <code>baseConfig</code> function refers to the server instance, which is the same instance that <code>server</code> refers to in your tests.</p></div>","lineNumber":184,"access":"public","isInterface":false,"decorators":[],"tags":[{"name":"class","value":"Server"}],"fields":[{"name":"db","description":"<div class=\"docs-md\"><p>Returns the Mirage Db instance.</p></div>","lineNumber":195,"access":"public","tags":[],"file":"server","type":"any","isStatic":false,"decorators":[]},{"name":"schema","description":"<div class=\"docs-md\"><p>Returns the Mirage Schema (ORM) instance.</p></div>","lineNumber":203,"access":"public","tags":[],"file":"server","type":"any","isStatic":false,"decorators":[]},{"name":"namespace","description":"<div class=\"docs-md\"><p>Set the base namespace used for all routes defined with <code>get</code>, <code>post</code>, <code>put</code> or <code>del</code>.</p>\n<p>For example,</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">new</span> Server({\n  baseConfg() {\n    <span class=\"hljs-keyword\">this</span>.namespace = <span class=\"hljs-string\">'/api'</span>;\n\n    <span class=\"hljs-comment\">// this route will handle the URL '/api/contacts'</span>\n    <span class=\"hljs-keyword\">this</span>.get(<span class=\"hljs-string\">'/contacts'</span>, <span class=\"hljs-string\">'contacts'</span>);\n  }\n})</code></pre>\n<p>Note that only routes defined after <code>this.namespace</code> are affected. This is useful if you have a few one-off routes that you don&#39;t want under your namespace:</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">new</span> Server({\n  baseConfg() {\n\n    <span class=\"hljs-comment\">// this route handles /auth</span>\n    <span class=\"hljs-keyword\">this</span>.get(<span class=\"hljs-string\">'/auth'</span>, <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>) </span>{ ...});\n\n    <span class=\"hljs-keyword\">this</span>.namespace = <span class=\"hljs-string\">'/api'</span>;\n    <span class=\"hljs-comment\">// this route will handle the URL '/api/contacts'</span>\n    <span class=\"hljs-keyword\">this</span>.get(<span class=\"hljs-string\">'/contacts'</span>, <span class=\"hljs-string\">'contacts'</span>);\n  };\n})</code></pre>\n<p>If your app is loaded from the filesystem vs. a server (e.g. via Cordova or Electron vs. <code>localhost</code> or <code>https://yourhost.com/</code>), you will need to explicitly define a namespace. Likely values are <code>/</code> (if requests are made with relative paths) or <code>https://yourhost.com/api/...</code> (if requests are made to a defined server).</p>\n<p>For a sample implementation leveraging a configured API host &amp; namespace, check out <a href=\"https://github.com/samselikoff/ember-cli-jkissues/497#issuecomment-183458721\"  class=\"docs-md__a\">this issue comment</a>.</p></div>","lineNumber":276,"access":"public","tags":[],"file":"server","type":"any","isStatic":false,"decorators":[]},{"name":"inflector","description":"<div class=\"docs-md\"><p>Mirage needs an inflector ({ singularize, pluralize }) to be passed in constructor</p></div>","lineNumber":281,"access":"public","tags":[],"file":"server","type":"any","isStatic":false,"decorators":[]},{"name":"urlPrefix","description":"<div class=\"docs-md\"><p>Sets a string to prefix all route handler URLs with.</p>\n<p>Useful if your app makes API requests to a different port.</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">new</span> Server({\n  baseConfig() {\n    <span class=\"hljs-keyword\">this</span>.urlPrefix = <span class=\"hljs-string\">'http://localhost:8080'</span>\n  }\n})</code></pre></div>","lineNumber":297,"access":"public","tags":[],"file":"server","type":"any","isStatic":false,"decorators":[]},{"name":"timing","description":"<div class=\"docs-md\"><p>Set the number of milliseconds for the the Server&#39;s response time.</p>\n<p>By default there&#39;s a 400ms delay during development, and 0 delay in testing (so your tests run fast).</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">new</span> Server({\n  baseConfg() {\n    <span class=\"hljs-keyword\">this</span>.timing = <span class=\"hljs-number\">400</span>; <span class=\"hljs-comment\">// default</span>\n  }\n})</code></pre>\n<p>To set the timing for individual routes, see the <code>timing</code> option for route handlers.</p></div>","lineNumber":318,"access":"public","tags":[],"file":"server","type":"any","isStatic":false,"decorators":[]},{"name":"logging","description":"<div class=\"docs-md\"><p>Set to <code>true</code> or <code>false</code> to explicitly specify logging behavior.</p>\n<p>By default, server responses are logged in non-testing environments. Logging is disabled by default in testing, so as not to clutter CI test runner output.</p>\n<p>For example, to enable logging in tests, write the following:</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\">test(<span class=\"hljs-string\">'I can view all users'</span>, <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>) </span>{\n  server.logging = <span class=\"hljs-literal\">true</span>;\n  server.create(<span class=\"hljs-string\">'user'</span>);\n\n  visit(<span class=\"hljs-string\">'/users'</span>);\n  <span class=\"hljs-comment\">// ...</span>\n});</code></pre>\n<p>You can also write a custom log message using the <a href=\"https://github.com/pretenderjs/pretender#handled-requests\"  class=\"docs-md__a\">Pretender server&#39;s <code>handledRequest</code> hook</a>. (You can access the pretender server from your Mirage server via <code>server.pretender</code>.)</p>\n<p>To override,</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">new</span> Server({\n  baseConfg() {\n    <span class=\"hljs-keyword\">this</span>.pretender.handledRequest = <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">verb, path, request</span>) </span>{\n      <span class=\"hljs-keyword\">let</span> { responseText } = request;\n      <span class=\"hljs-comment\">// log request and response data</span>\n    }\n  }\n})</code></pre></div>","lineNumber":356,"access":"public","tags":[],"file":"server","type":"any","isStatic":false,"decorators":[]},{"name":"testConfig","description":"<div class=\"docs-md\"><p>Use <code>testConfig</code> to define routes that only apply in your test environment:</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">new</span> Server({\n  baseConfig() {\n    <span class=\"hljs-comment\">// normal config, shared across development + testing</span>\n  },\n\n  testConfig() {\n    <span class=\"hljs-comment\">// test-only config, does not apply to development</span>\n  }\n})</code></pre>\n<p>This could be useful if you&#39;d like to use Mirage in testing, but generally proxy to an actual API during development. As you develop, your frontend may be ahead of your API, in which case you&#39;d work with the routes in the default config, and write your tests. Then, once your API implements the new endpoints, you can move the routes to your testConfig, so your tests still run, but Mirage doesn&#39;t interfere during development.</p></div>","lineNumber":375,"access":"public","tags":[],"file":"server","type":"any","isStatic":false,"decorators":[]},{"name":"pretender","description":"<div class=\"docs-md\"><p>Mirage uses <a href=\"https://github.com/trek/pretender\"  class=\"docs-md__a\">pretender.js</a> as its xhttp interceptor. In your Mirage config, <code>this.pretender</code> refers to the actual Pretender instance, so any config options that work there will work here as well.</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">new</span> Server({\n  baseConfig() {\n    <span class=\"hljs-keyword\">this</span>.pretender.handledRequest = <span class=\"hljs-function\">(<span class=\"hljs-params\">verb, path, request</span>) =&gt;</span> {\n      <span class=\"hljs-built_in\">console</span>.log(<span class=\"hljs-string\">`Your server responded to <span class=\"hljs-subst\">${path}</span>`</span>);\n    }\n  }\n})</code></pre>\n<p>Refer to <a href=\"https://github.com/pretenderjs/pretender\"  class=\"docs-md__a\">Pretender&#39;s docs</a> if you want to change any options on your Pretender instance.</p></div>","lineNumber":434,"access":"public","tags":[],"file":"server","type":"any","isStatic":false,"decorators":[]}],"methods":[{"name":"passthrough","description":"<div class=\"docs-md\"><p>By default, if your app makes a request that is not defined in your server config, Mirage will throw an error. You can use <code>passthrough</code> to whitelist requests, and allow them to pass through your Mirage server to the actual network layer.</p>\n<aside>\n<p>Note: Put all passthrough config at the bottom of your baseConfig, to give your route handlers precedence.</p>\n</aside>\n\n<p>To ignore paths on your current host (as well as configured <code>namespace</code>), use a leading <code>/</code>:</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">this</span>.passthrough(<span class=\"hljs-string\">'/addresses'</span>);</code></pre>\n<p>You can also pass a list of paths, or call <code>passthrough</code> multiple times:</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">this</span>.passthrough(<span class=\"hljs-string\">'/addresses'</span>, <span class=\"hljs-string\">'/contacts'</span>);\n<span class=\"hljs-keyword\">this</span>.passthrough(<span class=\"hljs-string\">'/something'</span>);\n<span class=\"hljs-keyword\">this</span>.passthrough(<span class=\"hljs-string\">'/else'</span>);</code></pre>\n<p>These lines will allow all HTTP verbs to pass through. If you want only certain verbs to pass through, pass an array as the last argument with the specified verbs:</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">this</span>.passthrough(<span class=\"hljs-string\">'/addresses'</span>, [<span class=\"hljs-string\">'post'</span>]);\n<span class=\"hljs-keyword\">this</span>.passthrough(<span class=\"hljs-string\">'/contacts'</span>, <span class=\"hljs-string\">'/photos'</span>, [<span class=\"hljs-string\">'get'</span>]);</code></pre>\n<p>You can pass a function to <code>passthrough</code> to do a runtime check on whether or not the request should be handled by Mirage. If the function returns <code>true</code> Mirage will not handle the request and let it pass through.</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">this</span>.passthrough(<span class=\"hljs-function\"><span class=\"hljs-params\">request</span> =&gt;</span> {\n  <span class=\"hljs-keyword\">return</span> request.queryParams.skipMirage;\n});</code></pre>\n<p>If you want all requests on the current domain to pass through, simply invoke the method with no arguments:</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">this</span>.passthrough();</code></pre>\n<p>Note again that the current namespace (i.e. any <code>namespace</code> property defined above this call) will be applied.</p>\n<p>You can also allow other-origin hosts to passthrough. If you use a fully-qualified domain name, the <code>namespace</code> property will be ignored. Use two * wildcards to match all requests under a path:</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">this</span>.passthrough(<span class=\"hljs-string\">'http://api.foo.bar/**'</span>);\n<span class=\"hljs-keyword\">this</span>.passthrough(<span class=\"hljs-string\">'http://api.twitter.com/v1/cards/**'</span>);</code></pre>\n<p>In versions of Pretender prior to 0.12, <code>passthrough</code> only worked with jQuery &gt;= 2.x. As long as you&#39;re on Pretender@0.12 or higher, you should be all set.</p></div>","lineNumber":578,"access":"public","tags":[{"name":"method","value":"passthrough"}],"file":"server","returns":null,"params":[{"nullable":null,"spread":false,"optional":true,"name":"...paths","description":"Any number of paths to whitelist","type":"String"},{"nullable":null,"spread":false,"optional":false,"name":"options","description":"Unused","type":"Array"}],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"loadFixtures","description":"<div class=\"docs-md\"><p>By default, <code>fixtures</code> will be loaded during testing if you don&#39;t have factories defined, and during development if you don&#39;t have <code>seeds</code> defined. You can use <code>loadFixtures()</code> to also load fixture files in either of these environments, in addition to using factories to seed your database.</p>\n<p><code>server.loadFixtures()</code> loads all the files, and <code>server.loadFixtures(file1, file2...)</code> loads selective fixture files.</p>\n<p>For example, in a test you may want to start out with all your fixture data loaded:</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\">test(<span class=\"hljs-string\">'I can view the photos'</span>, <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>) </span>{\n  server.loadFixtures();\n  server.createList(<span class=\"hljs-string\">'photo'</span>, <span class=\"hljs-number\">10</span>);\n\n  visit(<span class=\"hljs-string\">'/'</span>);\n\n  andThen(<span class=\"hljs-function\"><span class=\"hljs-params\">()</span> =&gt;</span> {\n    equal( find(<span class=\"hljs-string\">'img'</span>).length, <span class=\"hljs-number\">10</span> );\n  });\n});</code></pre>\n<p>or in development, you may want to load a few reference fixture files, and use factories to define the rest of your data:</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">new</span> Server({\n  ...,\n  seeds(server) {\n    server.loadFixtures(<span class=\"hljs-string\">'countries'</span>, <span class=\"hljs-string\">'states'</span>);\n\n    <span class=\"hljs-keyword\">let</span> author = server.create(<span class=\"hljs-string\">'author'</span>);\n    server.createList(<span class=\"hljs-string\">'post'</span>, <span class=\"hljs-number\">10</span>, {<span class=\"hljs-attr\">author_id</span>: author.id});\n  }\n})</code></pre></div>","lineNumber":642,"access":"public","tags":[{"name":"method","value":"loadFixtures"}],"file":"server","returns":null,"params":[{"nullable":null,"spread":false,"optional":true,"name":"...args","description":"The name of the fixture to load.","type":"String"}],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"create","description":"<div class=\"docs-md\"><p>Generates a single model of type <em>type</em>, inserts it into the database (giving it an id), and returns the data that was\nadded.</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\">test(<span class=\"hljs-string\">\"I can view a contact's details\"</span>, <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>) </span>{\n  <span class=\"hljs-keyword\">let</span> contact = server.create(<span class=\"hljs-string\">'contact'</span>);\n\n  visit(<span class=\"hljs-string\">'/contacts/'</span> + contact.id);\n\n  andThen(<span class=\"hljs-function\"><span class=\"hljs-params\">()</span> =&gt;</span> {\n    equal( find(<span class=\"hljs-string\">'h1'</span>).text(), <span class=\"hljs-string\">'The contact is Link'</span>);\n  });\n});</code></pre>\n<p>You can override the attributes from the factory definition with a\nhash passed in as the second parameter. For example, if we had this factory</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> Factory.extend({\n  <span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">'Link'</span>\n});</code></pre>\n<p>we could override the name like this:</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\">test(<span class=\"hljs-string\">\"I can view the contacts\"</span>, <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>) </span>{\n  server.create(<span class=\"hljs-string\">'contact'</span>, {<span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">'Zelda'</span>});\n\n  visit(<span class=\"hljs-string\">'/'</span>);\n\n  andThen(<span class=\"hljs-function\"><span class=\"hljs-params\">()</span> =&gt;</span> {\n    equal( find(<span class=\"hljs-string\">'p'</span>).text(), <span class=\"hljs-string\">'Zelda'</span> );\n  });\n});</code></pre></div>","lineNumber":790,"access":"public","tags":[{"name":"method","value":"create"}],"file":"server","returns":null,"params":[{"nullable":null,"spread":false,"optional":false,"name":"type","description":"the singularized type of the model","type":"any"},{"nullable":null,"spread":false,"optional":false,"name":"traitsAndOverrides","description":"","type":"any"}],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"createList","description":"<div class=\"docs-md\"><p>Creates <em>amount</em> models of type <em>type</em>, optionally overriding the attributes from the factory with <em>attrs</em>.</p>\n<p>Returns the array of records that were added to the database.</p>\n<p>Here&#39;s an example from a test:</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\">test(<span class=\"hljs-string\">\"I can view the contacts\"</span>, <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>) </span>{\n  server.createList(<span class=\"hljs-string\">'contact'</span>, <span class=\"hljs-number\">5</span>);\n  <span class=\"hljs-keyword\">let</span> youngContacts = server.createList(<span class=\"hljs-string\">'contact'</span>, <span class=\"hljs-number\">5</span>, {<span class=\"hljs-attr\">age</span>: <span class=\"hljs-number\">15</span>});\n\n  visit(<span class=\"hljs-string\">'/'</span>);\n\n  andThen(<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>) </span>{\n    equal(currentRouteName(), <span class=\"hljs-string\">'index'</span>);\n    equal( find(<span class=\"hljs-string\">'p'</span>).length, <span class=\"hljs-number\">10</span> );\n  });\n});</code></pre>\n<p>And one from setting up your development database:</p>\n<pre class=\"docs-md__code\"><code class=\"undefinedjs\"><span class=\"hljs-keyword\">new</span> Server({\n  seeds(server) {\n    <span class=\"hljs-keyword\">let</span> contact = server.create(<span class=\"hljs-string\">'contact'</span>)\n\n    server.createList(<span class=\"hljs-string\">'address'</span>, <span class=\"hljs-number\">5</span>, { contact })\n  }\n})</code></pre></div>","lineNumber":882,"access":"public","tags":[{"name":"method","value":"createList"}],"file":"server","returns":null,"params":[{"nullable":null,"spread":false,"optional":false,"name":"type","description":"","type":"any"},{"nullable":null,"spread":false,"optional":false,"name":"amount","description":"","type":"any"},{"nullable":null,"spread":false,"optional":false,"name":"traitsAndOverrides","description":"","type":"any"}],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]},{"name":"shutdown","description":"<div class=\"docs-md\"><p>Shutdown the server and stop intercepting network requests.</p></div>","lineNumber":913,"access":"public","tags":[{"name":"method","value":"shutdown"}],"file":"server","returns":null,"params":[],"isAsync":false,"isGenerator":false,"isStatic":false,"decorators":[]}],"accessors":[],"parentClassId":null},"relationships":{"parentClass":{"data":null}}},{"type":"module","id":"server","attributes":{"file":"server","functions":[],"variables":[]},"relationships":{"classes":{"data":[{"type":"class","id":"server~Server"}]},"components":{"data":[]}}},{"type":"module","id":"utils/inflector","attributes":{"file":"utils/inflector","functions":[{"name":"underscore","description":null,"lineNumber":56,"access":"public","tags":[],"file":"utils/inflector","returns":null,"params":[],"isAsync":false,"isGenerator":false,"exportType":"named"},{"name":"capitalize","description":null,"lineNumber":66,"access":"public","tags":[],"file":"utils/inflector","returns":null,"params":[],"isAsync":false,"isGenerator":false,"exportType":"named"}],"variables":[]},"relationships":{"classes":{"data":[]},"components":{"data":[]}}}]}
